// starship-animation.component.scss

:host {
  display: block;
  height: 100vh;
  width: 100vw;
  position: relative;
  color: #ca5600;
  background: black;
  overflow: hidden;
}

.starship-container {
  --duration: 5.2s;
  position: relative;
  width: 100%;
  height: 100%;
}

.old-page {
  position: absolute;
  inset: 0;
  background: url("/images/loading/room1.jpg")
    center center no-repeat;
  background-size: cover;
  transform: scale(1.5);
}

.starship-container.portrait .old-page {
  mask: url("/images/loading/vector/tail.svg") center top no-repeat,
        url("/images/loading/vector/space.svg") center center no-repeat,
        url("/images/loading/vector/rocket.svg") center center no-repeat;
  mask-repeat: no-repeat;
  mask-size: 10rem 20rem, 300% 300%, 100% 30%;
  animation: hide-view-portrait var(--duration) cubic-bezier(0.975, -0.005, 0, 1.02) infinite forwards;
}

.starship-container.landscape .old-page {
  mask: url("/images/loading/vector/tail.svg") center top no-repeat,
        url("/images/loading/vector/space-landscape.svg") center center no-repeat,
        url("/images/loading/vector/rocket.svg") center center no-repeat;
  mask-repeat: no-repeat;
  mask-size: 10rem 30rem, 500% 500%, 100% 30%;
  animation: hide-view-landscape var(--duration) cubic-bezier(0.975, -0.005, 0, 1.02) infinite forwards;
}

.starship-container.landscape.low-height .old-page {
  mask-size: 10rem 10rem, 500% 500%, 100% 30%;
}

@keyframes hide-view-portrait {
  from {
    mask-position: 50% 120%, 50% 0%, 50% 150%;
    transform: scale(1.5);
  }

  45% {
    transform: scale(1);
  }

  50% {
    mask-position: 50% 120%, 50% 80%, 50% 60%;
  }

  80% {
    mask-position: 50% -60%, 50% 140%, 50% -70%;
  }

  to {
    mask-position: 50% -60%, 50% 140%, 50% -70%;
    transform: scale(1);
  }
}

@keyframes hide-view-landscape {
  from {
    mask-position: 50% 120%, 50% 0%, 50% 150%;
    transform: scale(1.5);
  }

  45% {
    transform: scale(1);
  }

  50% {
    mask-position: 50% 120%, 50% 72%, 50% 60%;
  }

  80% {
    mask-position: 50% -80%, 50% 140%, 50% -70%;
  }

  to {
    mask-position: 50% -80%, 50% 140%, 50% -70%;
    transform: scale(1);
  }
}

.new-page {
  position: absolute;
  inset: 0;
  background: url("/images/loading/room2.jpg") center center no-repeat, #111;
  background-size: cover;
  animation: show var(--duration) cubic-bezier(0.975, -0.005, 0, 1.02) infinite forwards;
}

@keyframes show {
  from {
    filter: saturate(0%);
    opacity: 0.4;
  }

  40% {
    filter: saturate(0%);
    opacity: 0.4;
  }

  80% {
    filter: saturate(100%);
    opacity: 1;
  }

  to {
    filter: saturate(100%);
  }
}

// Адаптивные стили для небольших экранов
@media screen and (max-height: 800px) {
  :host {
    font-size: 8px;
  }
}

// Опциональные утилитарные классы
.labs-follow-me {
  transform: scale(0.8) !important;
}